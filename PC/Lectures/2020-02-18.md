## Принципы архитектуры Фон-Неймана.

Кратко архитектура Фон-Неймана характеризуется последовательной выборкой команд и данных через общий интерфейс памяти (централизованным последовательным управлением). Также ее называют принстонской, по университету.

Еще имеется Гарвардская архитектура построения ЭВМ. В ней память программ и данных физически и логически разделены. По гарвардской архитектуре построены микроконтроллеры (однокристальные микро-ЭВМ).

Уже в начале 80х быстродействие последовательных архитектур становятся недостаточными. Во-первых параллелизм включался внутри процессора, вскоре появляются кэш команд и кэш памяти. Позже процессоры становятся многоядерными, а каждое ядро начинает использовать гиперпоточность. Развиваются и супер-ЭВМ, которые физически работают параллельно.

## Многоуровневая организация ЭВМ

1. Постановка задачи (концептуальный уровень)
   задача
2. Языки высокого уровня
   
3. Ассемблерный уровень
   ассемблер
4. Операционная система
   функции ОС
5. Традиционный машинный уровень
   машинный язык
6. Микропрограммный уровень
   язык микроопераций
7. Уровень логических схем
   булева алгебра
8. Уровень электронных схем
   дифференциальные уравнения

ЭВМ — совокупность аппаратных средств и программного обеспечения (hardware and software).

ПО включает в себя алгоритмы решения задач (подробные инструкции) и их машинные представления — программы.

Программные и аппаратные средства логически эквивалентны: любая операция реализованная программно, может быть реализована и аппаратно.

### Базовая структура аппаратных средств в ЭВМ

* Центральный процессор
* Память
* Внешние устройства
  * устройства ввода-вывода
  * устройства хранения
* Интерфейс

### Структура ПО ЭВМ

* Системное

  средства разработки и выполнения программ

  * ОС
    * управление задачами (процессами)
    * управление заданиями
    * управление вводом-выводом (BIOS — Base I/O System)
    * файловая система
    * управление загрузкой
    * управление восстановления ОС после сбоев
    * управления взаимодействия в локальных и глобальных сетях
  * средства разработки программ

* Прикладное

  решает задачи пользователя

  * функционально-ориентированное (САПР, АСНИ)
  * общего назначения (редакторы)
  * интегрированные системы и прикладные пакеты
  * программы операционной оболочки

## Типовая структура процессора

Процессор — электронное устройство, которое выполняет операции над данными в соответствии с программой поступающей на его входы и содержит:

* Арифметико-логическое устройство (АЛУ)

  (Целочисленное) содержит комбинационную схему выполняющую арифметическо-логические операции и регистры для временного хранения операндов и результата. Признаки результатов фиксируются в регистре флагов.

  Аппаратно выполняет операции сложения, сложения с переносом, вычитание, вычитание с заемом, логические операции и, или, не, исключающее или, и сдвиги вправо и влево на один разряд. Умножение и деление выполняется микропрограммно здесь же.

* Устройство управления (УУ)

* Регистры

  * общего назначения

    образуют сверх-оперативную память процессора (для временного хранения операндов и результатов)

  * специального назначения

    каждый выполняет свою функцию

    * аккумулятор — результаты операций умножений и деления, ввода-выводы и некоторых других

    * счетчик команд — адрес команды выбираемой из памяти

    * регистр команд — очередная выбранная команда

    * регистр флагов результата — содержит признаки результата операции в АЛУ (см. практику)

    * указатель стека (LIFO) — адресует вершину стека: содержит адрес последней занятой или первой свободной ячейки, при заполнении стек может расти вверх или вниз (! в процессорах Intel x86 стек перевернутый: при включении в стек адрес уменьшается и по адресу записывается сохраняемое значение)

      SS:SP : SS — сегмент стека, SP — указатель стека

      ` Физический адрес = SS * 16 + SP`

      ```asm 
      push ax ; ах — шестнадцатибитный операнд
              ; ax = [ah + al]
              ; intel: по младшему байту младшая часть
      
      ; в стеке: 100h: 
      ;          0ffh: ah
      ;          0feh: al
      ;          0fdh:
      ```

* Средство интерфейса
  * Шина данных
  * Шина адреса
  * Шина управления

